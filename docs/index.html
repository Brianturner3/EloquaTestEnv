<!DOCTYPE html>
<!-- Simple example of page using data lookups to retrieve contact information-->
<!--[if lte IE 6]><html class="preIE7 preIE8 preIE9"><![endif]-->
<!--[if IE 7]><html class="preIE8 preIE9"><![endif]-->
<!--[if IE 8]><html class="preIE9"><![endif]-->
<!--[if gte IE 9]><!--><html><!--<![endif]-->
  <head>
    <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Eloqua Datalookup Test</title>
  <meta name="author" content="name">
  
  <!-- PART 1 : VARIABLES -->
  <script type="text/javascript">
    // Make Changes
    var EloquaSiteId = '2126376800';
    var primaryUniqueField = 'C_EmailAddress';
    var emailAddress = 'brian@salytics.com';
    var dataLookupKey = 'df645c355f214bda9085fc51b9369e0c'
    // End Changes
  </script>

  <!-- PART 2 : STD ELOQUA ASYNCHRONOUS TRACKING CODE -->
  <script type="text/javascript">
      var _elqQ = _elqQ || [];
      _elqQ.push(['elqSetSiteId', EloquaSiteId]);
      _elqQ.push(['elqTrackPageView']);

      (function () {
          function async_load() {
              var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
              s.src = '//img.en25.com/i/elqCfg.min.js'; //Path to elqCfg.min.js
              var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
          }
          if (window.attachEvent) { window.attachEvent('onload', async_load); }
          else { window.addEventListener('DOMContentLoaded', async_load, false); }
      })();
  </script>

  <!-- PART 3 : UPDATE DOM -->
  <script>
    // Update DOM with data from web data lookup
    function loadCategories(){

    }
  </script>

<!-- PART 4 : ELOQUA WEB DATA LOOKUPS -->
<script type="text/javascript">
  function CreateRow(label, value) {
    var p = document.createElement('p');
    var b = document.createElement('b');
    p.appendChild(b);
    b.appendChild(document.createTextNode(label));
    p.appendChild(document.createTextNode(value));
    document.getElementById('contactinfo').appendChild(p);
  }

  function SetElqContent(){ 
    if (this.GetElqContentPersonalizationValue){
      CreateRow(': ', GetElqContentPersonalizationValue('C_EmailAddress'));
      CreateRow(': ', GetElqContentPersonalizationValue('C_FirstName'));
      CreateRow(': ', GetElqContentPersonalizationValue('C_LastName'));
      CreateRow(': ', GetElqContentPersonalizationValue('C_State_Prov'));
      CreateRow(': ', GetElqContentPersonalizationValue('C_Zip_Postal'));
    } else {
      CreateRow('Personalization functions not found','');
  }

  _elqQ.push(['elqDataLookup', escape(dataLookupKey),'<C_EmailAddress>'+emailAddress+'</C_EmailAddress>']);
</script>

  </head>
  <body>
  <!-- Title -->
  <h1>Test Page: Data Lookups</h1>
  <!-- Div to populate -->
    <div id="contactinfo">
    </div>

  </body>
</html>