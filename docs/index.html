<!DOCTYPE html>
<!-- Simple example of page using data lookups to retrieve contact information-->
<!--[if lte IE 6]><html class="preIE7 preIE8 preIE9"><![endif]-->
<!--[if IE 7]><html class="preIE8 preIE9"><![endif]-->
<!--[if IE 8]><html class="preIE9"><![endif]-->
<!--[if gte IE 9]><!--><html><!--<![endif]-->
  <head>
    <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Eloqua Datalookup Test</title>
  <meta name="author" content="name">
  <meta name="description" content="description here">
  <meta name="keywords" content="keywords,here">
  <script type="text/javascript">
      var _elqQ = _elqQ || [];
      _elqQ.push(['elqSetSiteId','2126376800']);
      _elqQ.push(['elqTrackPageView']);
      _elqQ.push(['elqDataLookup', escape('df645c355f214bda9085fc51b9369e0c'),'<C_EmailAddress>Enter_Email Address_here</C_EmailAddress>']);

      (function () {
          function async_load() {
              var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
              s.src = '//img.en25.com/i/elqCfg.min.js';
              var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
          }
          if (window.attachEvent) { window.attachEvent('onload', async_load); }
          else { window.addEventListener('DOMContentLoaded', async_load, false); }
      })();
  </script>
  <!-- Default Tracking Script -->

  </head>
  <body>
  <!-- Title -->
  <h1>Eloqua Test Page: Data Lookups</h1>
  <!-- Div to populate -->
  <div id="contactinfo">
  </div>
  <!-- Configuration Script -->
  <script type='text/javascript'>
  console.log('Enter Datalookup Code');
  function CreateRow(label, value) {
      var p = document.createElement('p');
      var b = document.createElement('b');
      p.appendChild(b);
      b.appendChild(document.createTextNode(label));
      p.appendChild(document.createTextNode(value));

      document.getElementById('contactinfo').appendChild(p);
  }

  function SetElqContent(){
      console.log('Enter SetElqContent');
      if (this.GetElqContentPersonalizationValue){
        console.log('Data lookup Found');
        CreateRow(': ', GetElqContentPersonalizationValue('C_EmailAddress'));
        CreateRow(': ', GetElqContentPersonalizationValue('C_FirstName'));
        CreateRow(': ', GetElqContentPersonalizationValue('C_LastName'));
        CreateRow(': ', GetElqContentPersonalizationValue('C_State_Prov'));
        CreateRow(': ', GetElqContentPersonalizationValue('C_Zip_Postal'));
    } else {
        console.log('Data lookup Not Found');
        CreateRow('Personalization functions not found','');
     }
  }
  </script>

  </body>
</html>